Scheduling Continuous Testing runs
==================================

You can create and update the schedule for a Continuous Test from the SDK. For
more configuration information, see the Configuring your Scheduled Continuous Tests page.

Activating a schedule for a Continuous Test
--------------------------------------------

.. tabs::

   .. tab:: SDK

      1. :ref:`Create a new Continuous Test<continuous-test>`

      2. Get the Continuous Test from the project.

            .. code-block:: python

              firewall = rime_client.get_firewall_for_project("foo-project")

      3. Activate a schedule for the Continuous Test.

            .. code-block:: python

                firewall.activate_ct_scheduling(
                    data_integration_id: "<YOUR_DATA_INTEGRATION_ID>",
                    data_info: "<Data Info for your dataset>",
                    pred_integration_id: "<YOUR_PREDICTIONS_INTEGRATION_ID>",
                    pred_info: "<Prediction Info for your dataset>",
                    rolling_window_size: "<Rolling window for your dataset>",
                )

        The parameters are dependent on which data integration you are using. For more information, reference the template for your :ref:`data integration<configuring-scheduled-ct>`.

      4. These parameters can also be updated after scheduled ct has been updated.

            .. code-block:: python

                firewall.update_scheduled_ct_info(
                    data_integration_id: "<YOUR_DATA_INTEGRATION_ID>",
                    data_info: "<Data Info for your dataset>",
                    pred_integration_id: "<YOUR_PREDICTIONS_INTEGRATION_ID>",
                    pred_info: "<Prediction Info for your dataset>",
                    rolling_window_size: "<Rolling window for your dataset>",
                )

      You can set also a schedule at the same time you :ref:`create a Continuous Test<continuous-test>`. To create a
      schedule, specify a data source as well as any credentials required for access to the data source while creating a firewall.

Deactivating a schedule for a Continuous Test
----------------------------------------------

.. tabs::

   .. tab:: SDK

      .. code-block:: python

            firewall.deactivate_ct_scheduling()

   ..

Updating the reference dataset for a Scheduled Continuous Test
---------------------------------------------------------------

In addition to specifying access and process parameters, you can also modify the
reference data that tests are routinely run against. To change the reference
set, please register a new dataset and update the
firewall reference.

.. code-block:: python

     firewall.update_firewall(ref_data_id=new_ref_data_id)
