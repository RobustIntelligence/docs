<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Validating Your Model with AI Stress Testing &mdash; RIME  documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
        <script src="../../_static/clipboard.min.js"></script>
        <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Protecting Your Model with AI Firewall" href="rime_firewall_realtime.html" />
    <link rel="prev" title="How-To Guides" href="../how_to_guides.html" />
<link href="../../_static/style.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav">
<div class="ge_header no-print">
    <a id="header-logo" href="../../index.html">
        <img src="../../_static/header-logo.png" alt="logo" />
    </a>
</div>


  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            RIME
          </a>
              <div class="version">
                0.19.7
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">User Guide</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../for_data_scientists/get_started.html">Get Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../for_data_scientists/how_to_guides.html">How-To Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../for_data_scientists/reference.html">Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../for_data_scientists/explanation.html">Explanation</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Other Guides</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../changelogs.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../for_admins/index.html">For Administrators</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Local Trial</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../get_started.html">Get Started</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../how_to_guides.html">How-To Guides</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../how_to_guides.html#tabular">Tabular</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">Validating Your Model with AI Stress Testing</a></li>
<li class="toctree-l4"><a class="reference internal" href="rime_firewall_realtime.html">Protecting Your Model with AI Firewall</a></li>
<li class="toctree-l4"><a class="reference internal" href="rime_ai_firewall_continuous_tests.html">Monitoring Your Model with AI Firewall</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../how_to_guides.html#nlp">NLP</a></li>
<li class="toctree-l3"><a class="reference internal" href="../how_to_guides.html#cv">CV</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../reference.html">Reference</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">RIME</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Local Trial</a></li>
          <li class="breadcrumb-item"><a href="../how_to_guides.html">How-To Guides</a></li>
      <li class="breadcrumb-item active">Validating Your Model with AI Stress Testing</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/local_trial/how_to_guides/rime_ai_stress_testing.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="validating-your-model-with-ai-stress-testing">
<h1>Validating Your Model with AI Stress Testing<a class="headerlink" href="#validating-your-model-with-ai-stress-testing" title="Permalink to this heading"></a></h1>
<p>This tutorial will guide you through validating a Binary Classification model with AI Stress Testing.</p>
<p>This model was trained on a slightly modified version of the <a target="_blank" rel="noopener" href="https://www.kaggle.com/uciml/adult-census-income">Adult Census Income</a> dataset and is available in the <code class="docutils literal notranslate"><span class="pre">rime_trial/</span></code> bundle provided during installation.</p>
<p>An <strong>AI Stress Test</strong> is a statistical evaluation of a machine learning model, designed to detect a specific vulnerability. At Robust Intelligence, we are constantly researching new vulnerabilities to test.</p>
<p>For a full list of available stress tests, see our <a class="reference internal" href="../../for_data_scientists/explanation.html"><span class="doc std std-doc">Test Bank</span></a>.</p>
<section id="running-stress-testing-on-the-income-example">
<h2>Running Stress Testing on the Income Example<a class="headerlink" href="#running-stress-testing-on-the-income-example" title="Permalink to this heading"></a></h2>
<section id="stress-testing-with-a-model-and-datasets">
<h3>Stress Testing with a Model and Datasets<a class="headerlink" href="#stress-testing-with-a-model-and-datasets" title="Permalink to this heading"></a></h3>
<p>In this example, we will be providing the model directly to RI, which enables the most thorough possible analysis. However, RI can be run with prediction logs alone (or even just datasets), which we will illustrate below as well.</p>
<p>To kick off a run of AI Stress Testing using a model and datasets:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>rime-engine<span class="w"> </span>run-stress-tests<span class="w"> </span>--config-path<span class="w"> </span>examples/income/stress_tests_model.json
</pre></div>
</div>
<p>After this finishes running, you should be able to see the results in the web client,
where they will be uploaded to the Default Project.</p>
<p>For additional command line options, please see the <a class="reference internal" href="../reference/cli.html"><span class="doc std std-doc">CLI Reference</span></a>.</p>
</section>
<section id="stress-testing-with-prediction-logs">
<h3>Stress Testing with Prediction Logs<a class="headerlink" href="#stress-testing-with-prediction-logs" title="Permalink to this heading"></a></h3>
<p>To kick off a run of AI Stress Testing using a model and datasets:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>rime-engine<span class="w"> </span>run-stress-tests<span class="w"> </span>--config-path<span class="w"> </span>examples/income/stress_tests_prediction_logs.json
</pre></div>
</div>
<p>Note that the command is exactly the same EXCEPT for the <code class="docutils literal notranslate"><span class="pre">--config-path</span></code> provided.</p>
</section>
<section id="stress-testing-with-bias-and-fairness-tests">
<h3>Stress Testing with Bias And Fairness tests<a class="headerlink" href="#stress-testing-with-bias-and-fairness-tests" title="Permalink to this heading"></a></h3>
<p>This will run a specific suite of tests geared towards bias and fairness.</p>
<p>To kick off a run in the Compliance setting:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>rime-engine<span class="w"> </span>run-stress-tests<span class="w"> </span>--config-path<span class="w"> </span>examples/income/stress_tests_compliance.json
</pre></div>
</div>
<p>The command is exactly the same as the others; however, in the configuration file we have specified <code class="docutils literal notranslate"><span class="pre">Bias</span> <span class="pre">And</span> <span class="pre">Fairness</span></code> under <code class="docutils literal notranslate"><span class="pre">categories</span></code> as well as a list of <code class="docutils literal notranslate"><span class="pre">protected_features</span></code> in our <code class="docutils literal notranslate"><span class="pre">data_info</span></code>:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
  <span class="s2">&quot;run_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Income - Bias And Fairness&quot;</span><span class="p">,</span>
  <span class="s2">&quot;data_info&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;protected_features&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;sex&quot;</span><span class="p">,</span> <span class="s2">&quot;race&quot;</span><span class="p">,</span> <span class="s2">&quot;education&quot;</span><span class="p">,</span> <span class="s2">&quot;age&quot;</span><span class="p">,</span> <span class="s2">&quot;native.country&quot;</span><span class="p">]</span>
    <span class="o">...</span>
  <span class="p">},</span>
  <span class="s2">&quot;test_config&quot;</span><span class="p">:</span> <span class="p">{</span>
    <span class="s2">&quot;categories&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Bias And Fairness&quot;</span><span class="p">],</span>
    <span class="s2">&quot;run_default&quot;</span><span class="p">:</span> <span class="n">false</span>
  <span class="p">},</span>
  <span class="s2">&quot;model_info&quot;</span><span class="p">:</span> <span class="p">{</span> <span class="o">...</span> <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</section>
</section>
<hr class="docutils" />
<section id="running-stress-testing-on-your-own-model-and-datasets">
<h2>Running Stress Testing on Your Own Model and Datasets<a class="headerlink" href="#running-stress-testing-on-your-own-model-and-datasets" title="Permalink to this heading"></a></h2>
<p>This guide will cover how to run AI Stress Testing on your own model and datasets.</p>
<section id="define-a-python-model-file">
<h3>Define a Python Model File<a class="headerlink" href="#define-a-python-model-file" title="Permalink to this heading"></a></h3>
<p>A model is not required for AI Stress Testing, but providing one will produce better results.</p>
<p>For step-by-step instructions, please see <a class="reference internal" href="../../for_data_scientists/reference/tabular/specify_model.html"><span class="doc std std-doc">How to Create a Python Model File</span></a>.</p>
</section>
<section id="gather-datasets">
<h3>Gather Datasets<a class="headerlink" href="#gather-datasets" title="Permalink to this heading"></a></h3>
<p>For a detailed specification of data formatting, see <a class="reference internal" href="../../for_data_scientists/reference/tabular/task_data_format.html"><span class="doc std std-doc">Input Data Format</span></a>.</p>
<section id="split-the-data">
<h4>1. Split the Data<a class="headerlink" href="#split-the-data" title="Permalink to this heading"></a></h4>
<p>For AI Stress Testing, RI requires two datasets: a reference dataset (typically the training data) and an evaluation dataset (typically the validation, testing, or other data).
Currently RI expects each dataset to be passed in as a <code class="docutils literal notranslate"><span class="pre">.csv</span></code> or <code class="docutils literal notranslate"><span class="pre">.parquet</span></code> file where each column is a separate feature.</p>
</section>
<section id="specify-labels-recommended">
<h4>2. Specify Labels (Recommended)<a class="headerlink" href="#specify-labels-recommended" title="Permalink to this heading"></a></h4>
<p>Providing labels allows RI to surface model performance metrics across our tests. These should be passed in as a column in both datasets.</p>
<p>NOTE: For Multi-Class Classification models, each label should be a nonnegative integer <code class="docutils literal notranslate"><span class="pre">i</span></code> where the corresponding prediction for label <code class="docutils literal notranslate"><span class="pre">i</span></code> should be found in the <code class="docutils literal notranslate"><span class="pre">ith</span></code> dimenson of the prediction vector.</p>
</section>
<section id="specify-predictions-recommended">
<h4>3. Specify Predictions (Recommended)<a class="headerlink" href="#specify-predictions-recommended" title="Permalink to this heading"></a></h4>
<p>If a model has not already been specified, providing predictions will produce better results. These should be passed in as a column in both datasets.</p>
<p>NOTE: For Multi-Class Classification models, predictions must be specified in a separate csv or parquet file as a dataframe where the <code class="docutils literal notranslate"><span class="pre">ith</span></code> column represents the predicted probabilities for the <code class="docutils literal notranslate"><span class="pre">ith</span></code> class/label.</p>
</section>
</section>
<section id="create-configuration">
<h3>Create Configuration<a class="headerlink" href="#create-configuration" title="Permalink to this heading"></a></h3>
<p>With your data and model ready, you can now create a configuration file. Examples of these can be found in the <code class="docutils literal notranslate"><span class="pre">rime_trial/</span></code> bundle (the ones used for this example are under <code class="docutils literal notranslate"><span class="pre">examples/income/</span></code>).</p>
<p>For a detailed reference on what the configuration should look like, see <a class="reference internal" href="../../for_data_scientists/reference/tabular/stress_testing.html"><span class="doc std std-doc">AI Stress Testing Configuration Reference</span></a>.</p>
</section>
<section id="run-the-cli">
<h3>Run the CLI<a class="headerlink" href="#run-the-cli" title="Permalink to this heading"></a></h3>
<p>To kick off a run of AI Stress Testing using your configuration file, simply replace the <code class="docutils literal notranslate"><span class="pre">--config-path</span></code> argument below:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>rime-engine<span class="w"> </span>run-stress-tests<span class="w"> </span>--config-path<span class="w"> </span>&lt;PATH-TO-CONFIGURATION&gt;
</pre></div>
</div>
<p>After this finishes running, you should be able to see the results in the web client,
where they will be uploaded to the Default Project.</p>
</section>
<hr class="docutils" />
<section id="troubleshooting">
<h3>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permalink to this heading"></a></h3>
<p>If you run into issues, please refer to our <a class="reference internal" href="troubleshooting/python_package.html"><span class="doc std std-doc">Troubleshooting</span></a> page for help! Additionally, your RI representative will be happy to assist — feel free to reach out!</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../how_to_guides.html" class="btn btn-neutral float-left" title="How-To Guides" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="rime_firewall_realtime.html" class="btn btn-neutral float-right" title="Protecting Your Model with AI Firewall" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Robust Intelligence.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>