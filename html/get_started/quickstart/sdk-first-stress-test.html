<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Stress Testing with the RIME Python SDK &mdash; RIME  documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/copybutton.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
        <script src="../../_static/clipboard.min.js"></script>
        <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Stress Testing with the RIME CLI" href="cli-first-stress-test.html" />
    <link rel="prev" title="Running Your First AI Stress Test" href="../quickstart.html" />
<link href="../../_static/style.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav">
<div class="ge_header no-print">
    <a id="header-logo" href="../../index.html">
        <img src="../../_static/header-logo.png" alt="logo" />
    </a>
</div>


  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../index.html" class="icon icon-home">
            RIME
          </a>
              <div class="version">
                0.16.14
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">RIME</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../rime/product-overview.html">Product Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../rime/product-details.html">Product Details</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Get Started</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../quickstart.html">Running Your First AI Stress Test</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Stress Testing with the RIME Python SDK</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#establish-connection">1. Establish Connection</a></li>
<li class="toctree-l3"><a class="reference internal" href="#select-model-and-datasets">2. Select Model and Datasets</a></li>
<li class="toctree-l3"><a class="reference internal" href="#configuration">3. Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="#run-the-tests">4. Run the Tests!</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="cli-first-stress-test.html">Stress Testing with the RIME CLI</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Walkthroughs</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../walkthroughs/python-sdk.html">Python SDK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../walkthroughs/python-library.html">Python Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../walkthroughs/cli.html">CLI</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Configuring RIME</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../configuration/tabular.html">Tabular Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../configuration/nlp.html">NLP Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../configuration/cv.html">CV Configuration</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">API Reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../reference/api-authentication.html">API Authentication</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../reference/python-sdk.html">Python SDK</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../reference/python-library.html">Python Library</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../reference/cli.html">CLI</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../reference/integrations.html">Integrations</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../reference/troubleshooting.html">Troubleshooting</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">RIME</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../quickstart.html">Running Your First AI Stress Test</a></li>
      <li class="breadcrumb-item active">Stress Testing with the RIME Python SDK</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/get_started/quickstart/sdk-first-stress-test.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="stress-testing-with-the-rime-python-sdk">
<h1>Stress Testing with the RIME Python SDK<a class="headerlink" href="#stress-testing-with-the-rime-python-sdk" title="Permalink to this heading"></a></h1>
<p>Let’s begin by stress testing a binary classification model using the RIME Python SDK! This example uses a modified version of the <a href="https://www.kaggle.com/datasets/uciml/adult-census-income" target="_blank">Adult Census Income Dataset</a> from Kaggle that we’ve publicized in our <a href="https://github.com/RobustIntelligence/ri-public-examples" target="_blank">RI Public Examples</a> repository.</p>
<p>Before beginning, make sure that you’ve installed the RIME Python SDK. Installation instructions below:</p>
<ul class="simple">
<li><p><a class="reference internal" href="../installation/cloud/installation.html#install-the-rime-python-package-optional"><span class="std std-doc">RIME Cloud</span></a></p></li>
<li><p><a class="reference internal" href="../installation/enterprise/installation/sdk.html"><span class="doc std std-doc">RIME Enterprise</span></a></p></li>
</ul>
<p>The Python SDK is designed for easy use in your existing development environments, so feel free to run this example from a Jupyter notebook or Python interpreter.</p>
<p>To proceed, you will need the following information:</p>
<ol class="arabic simple">
<li><p><code class="docutils literal notranslate"><span class="pre">BACKEND_URL</span></code>: Your cluster’s backend URL.</p>
<ul class="simple">
<li><p>This will be of the form <code class="docutils literal notranslate"><span class="pre">&quot;rime-backend.&lt;YOUR_ORG_NAME&gt;.rime.dev&quot;</span></code>.</p></li>
</ul>
</li>
<li><p><code class="docutils literal notranslate"><span class="pre">API_TOKEN</span></code>: An API token connected to your cluster.</p>
<ul class="simple">
<li><p>Instructions for getting an API token can be found in the <a class="reference internal" href="../../reference/api-authentication.html"><span class="doc std std-doc">API Authentication Guide</span></a>.</p></li>
</ul>
</li>
<li><p>The Adult Census Income dataset and sample model ( <a href="https://github.com/RobustIntelligence/ri-public-examples" target="_blank">link here</a> )</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">wget</span> <span class="pre">https://raw.githubusercontent.com/RobustIntelligence/ri-public-examples/master/tabular/income.zip</span></code></p></li>
</ul>
</li>
</ol>
<p>Here is the example in full — we will be going through each section throughout this tutorial:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
<span class="kn">from</span> <span class="nn">rime_sdk</span> <span class="kn">import</span> <span class="n">RIMEClient</span><span class="p">,</span> <span class="n">RIMEStressTestJob</span><span class="p">,</span> <span class="n">RIMEProject</span><span class="p">,</span> <span class="n">RIMEFirewall</span>

<span class="c1"># set these before beginning!</span>
<span class="n">BACKEND_URL</span> <span class="o">=</span> <span class="s2">&quot;rime-backend.&lt;YOUR_ORG_NAME&gt;.rime.dev&quot;</span>
<span class="n">API_TOKEN</span> <span class="o">=</span> <span class="s2">&quot;&lt;YOUR_API_TOKEN&gt;&quot;</span>

<span class="c1"># connect to your cluster</span>
<span class="n">rime_client</span> <span class="o">=</span> <span class="n">RIMEClient</span><span class="p">(</span><span class="n">BACKEND_URL</span><span class="p">,</span> <span class="n">API_TOKEN</span><span class="p">)</span>

<span class="c1"># REPLACE THESE PATHS WITH YOUR LOCAL PATHS TO THE INCOME DATA!</span>
<span class="n">model_path</span> <span class="o">=</span> <span class="n">rime_client</span><span class="o">.</span><span class="n">upload_model_directory</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="s2">&quot;&lt;PATH_TO_INCOME_MODEL_FOLDER&gt;&quot;</span><span class="p">))</span> <span class="o">+</span> <span class="s2">&quot;/model.py&quot;</span>
<span class="n">ref_path</span> <span class="o">=</span> <span class="n">rime_client</span><span class="o">.</span><span class="n">upload_dataset_file</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="s2">&quot;&lt;PATH_TO_INCOME_REF_WITH_PREDS_CSV&gt;&quot;</span><span class="p">))</span>
<span class="n">eval_path</span> <span class="o">=</span> <span class="n">rime_client</span><span class="o">.</span><span class="n">upload_dataset_file</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="s2">&quot;&lt;PATH_TO_INCOME_EVAL_WITH_PREDS_CSV&gt;&quot;</span><span class="p">))</span>

<span class="c1"># configure the stress test</span>
<span class="n">config</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;run_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Income (with Model)&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data_info&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;label_col&quot;</span><span class="p">:</span> <span class="s2">&quot;income&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pred_col&quot;</span><span class="p">:</span> <span class="s2">&quot;pred&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ref_path&quot;</span><span class="p">:</span> <span class="n">ref_path</span><span class="p">,</span>
        <span class="s2">&quot;eval_path&quot;</span><span class="p">:</span> <span class="n">eval_path</span>
    <span class="p">},</span>
    <span class="s2">&quot;model_info&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;path&quot;</span><span class="p">:</span> <span class="n">model_path</span>
    <span class="p">}</span>
<span class="p">}</span>

<span class="c1"># run the test!</span>
<span class="n">job</span> <span class="o">=</span> <span class="n">rime_client</span><span class="o">.</span><span class="n">start_stress_test</span><span class="p">(</span><span class="n">test_run_config</span><span class="o">=</span><span class="n">config</span><span class="p">)</span>

<span class="c1"># check status until completion (1-2 mins)</span>
<span class="n">job</span><span class="o">.</span><span class="n">get_status</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">wait_until_finish</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<section id="establish-connection">
<h2>1. Establish Connection<a class="headerlink" href="#establish-connection" title="Permalink to this heading"></a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>
<span class="kn">from</span> <span class="nn">rime_sdk</span> <span class="kn">import</span> <span class="n">RIMEClient</span><span class="p">,</span> <span class="n">RIMEStressTestJob</span><span class="p">,</span> <span class="n">RIMEProject</span><span class="p">,</span> <span class="n">RIMEFirewall</span>

<span class="c1"># set these before beginning!</span>
<span class="n">BACKEND_URL</span> <span class="o">=</span> <span class="s2">&quot;rime-backend.&lt;YOUR_ORG_NAME&gt;.rime.dev&quot;</span>
<span class="n">API_TOKEN</span> <span class="o">=</span> <span class="s2">&quot;&lt;YOUR_API_TOKEN&gt;&quot;</span>
</pre></div>
</div>
<p>With our constants assigned, we can establish the connection to our RIME cluster:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># connect to your cluster</span>
<span class="n">rime_client</span> <span class="o">=</span> <span class="n">RIMEClient</span><span class="p">(</span><span class="n">BACKEND_URL</span><span class="p">,</span> <span class="n">API_TOKEN</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="select-model-and-datasets">
<h2>2. Select Model and Datasets<a class="headerlink" href="#select-model-and-datasets" title="Permalink to this heading"></a></h2>
<p>RIME stress testing can be run with as little as two datasets (reference and evaluation); however, the more information we provide, the richer the analysis will be. In this example, we’ll be providing datasets, labels, predictions, and the model itself.</p>
<p>RIME clusters read data and models from S3 buckets. Using the SDK, we can upload our local model and data files directly. Alternatively, if your data is already in S3, you can replace these commands with assignments the appropriate S3 filepaths.</p>
<p><strong>Enter your local filepaths in the commands below to upload your data to the RIME cluster!</strong></p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># REPLACE THESE PATHS WITH YOUR LOCAL PATHS TO THE INCOME DATA!</span>
<span class="n">model_path</span> <span class="o">=</span> <span class="n">rime_client</span><span class="o">.</span><span class="n">upload_model_directory</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="s2">&quot;&lt;PATH_TO_INCOME_MODEL_FOLDER&gt;&quot;</span><span class="p">))</span> <span class="o">+</span> <span class="s2">&quot;/model.py&quot;</span>
<span class="n">ref_path</span> <span class="o">=</span> <span class="n">rime_client</span><span class="o">.</span><span class="n">upload_dataset_file</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="s2">&quot;&lt;PATH_TO_INCOME_REF_WITH_PREDS_CSV&gt;&quot;</span><span class="p">))</span>
<span class="n">eval_path</span> <span class="o">=</span> <span class="n">rime_client</span><span class="o">.</span><span class="n">upload_dataset_file</span><span class="p">(</span><span class="n">Path</span><span class="p">(</span><span class="s2">&quot;&lt;PATH_TO_INCOME_EVAL_WITH_PREDS_CSV&gt;&quot;</span><span class="p">))</span>
</pre></div>
</div>
</section>
<section id="configuration">
<h2>3. Configuration<a class="headerlink" href="#configuration" title="Permalink to this heading"></a></h2>
<p>Once we’ve identified our model and datasets, all that’s left is to define the configuration for our stress test. We will begin simply, specifying only the basics; however, as we fine tune our analysis, we can enrich this configuration.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># configure the stress test</span>
<span class="n">config</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;run_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Income (with Model)&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data_info&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;label_col&quot;</span><span class="p">:</span> <span class="s2">&quot;income&quot;</span><span class="p">,</span>
        <span class="s2">&quot;pred_col&quot;</span><span class="p">:</span> <span class="s2">&quot;pred&quot;</span><span class="p">,</span>
        <span class="s2">&quot;ref_path&quot;</span><span class="p">:</span> <span class="n">ref_path</span><span class="p">,</span>
        <span class="s2">&quot;eval_path&quot;</span><span class="p">:</span> <span class="n">eval_path</span>
    <span class="p">},</span>
    <span class="s2">&quot;model_info&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;path&quot;</span><span class="p">:</span> <span class="n">model_path</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>For a full reference on the configuration file see the <a class="reference internal" href="../../configuration/tabular/stress_testing.html"><span class="doc std std-doc">Tabular Configuration Reference</span></a>.</p>
</section>
<section id="run-the-tests">
<h2>4. Run the Tests!<a class="headerlink" href="#run-the-tests" title="Permalink to this heading"></a></h2>
<p>You are now free to run the tests! The command below will continuously poll for the status of the test until completion; to run the test asynchronously, you can disable <code class="docutils literal notranslate"><span class="pre">wait_until_finish</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># run the test!</span>
<span class="n">job</span> <span class="o">=</span> <span class="n">rime_client</span><span class="o">.</span><span class="n">start_stress_test</span><span class="p">(</span><span class="n">test_run_config</span><span class="o">=</span><span class="n">config</span><span class="p">)</span>

<span class="c1"># check status until completion (1-2 mins)</span>
<span class="n">job</span><span class="o">.</span><span class="n">get_status</span><span class="p">(</span><span class="n">verbose</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">wait_until_finish</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
<p>RIME organizes work into projects. Your environment is seeded with one initially, called “Default Project”, which was used automatically for this example.</p>
<p><img alt="" src="../../_images/ProjectsDefaultProject.png" /></p>
<p>Once the command completes, you should be able to see the test run in the Default Project (see table below for URL).</p>
<p><img alt="" src="../../_images/TestRunsIncomeExample.png" /></p>
<p>From there, you can open the test run “Income (With Model)” and start exploring the results!</p>
<p><img alt="" src="../../_images/TestsIncomeExample.png" /></p>
<p>For a full reference to the web client, please refer to our <a class="reference internal" href="../../rime/product-details/ui/tabular.html"><span class="doc std std-doc">UI Documentation</span></a>.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../quickstart.html" class="btn btn-neutral float-left" title="Running Your First AI Stress Test" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="cli-first-stress-test.html" class="btn btn-neutral float-right" title="Stress Testing with the RIME CLI" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Robust Intelligence.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>