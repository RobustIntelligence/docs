<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Scheduling Continuous Testing runs &mdash; RIME  documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="https://cdn.datatables.net/v/dt/dt-1.13.1/sb-1.4.0/datatables.min.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/sphinx_highlight.js"></script>
        <script src="../../../_static/clipboard.min.js"></script>
        <script src="../../../_static/copybutton.js"></script>
        <script src="../../../_static/main.js"></script>
        <script src="https://cdn.datatables.net/v/dt/dt-1.13.1/sb-1.4.0/datatables.min.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Scheduling Continuous Tests" href="scheduled_ct_configuration.html" />
    <link rel="prev" title="Querying RIME Results" href="querying_results.html" />
<link href="../../../_static/style.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav">
<div class="ge_header no-print">
    <a id="header-logo" href="../../../index.html">
        <img src="../../../_static/header-logo.png" alt="logo" />
    </a>
</div>


  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            RIME
          </a>
              <div class="version">
                2.0.0-beta.8
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../changelogs.html">Release Notes</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">RIME at a Glance</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../getstarted/product-overview.html">RIME and machine learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../getstarted/workspace-overview.html">The RIME Workspace Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../getstarted/modeltesting.html">RIME model testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../getstarted/modeltesting.html#rime-local-trial">RIME local trial</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Data science with RIME</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../get_started.html">Get Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../basic_tasks.html">Basic tasks</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../basic_tasks.html#initial-setup">Initial setup</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../basic_tasks.html#stress-tests">Stress Tests</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../basic_tasks.html#continuous-tests">Continuous Tests</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="ct-ui.html">Continuous Tests</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Scheduling Continuous Testing runs</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#activating-a-schedule">Activating a schedule</a></li>
<li class="toctree-l4"><a class="reference internal" href="#deactivating-a-schedule-from-the-sdk">Deactivating a schedule from the SDK</a></li>
<li class="toctree-l4"><a class="reference internal" href="#activating-and-deactivating-a-schedule-from-the-ui">Activating and deactivating a schedule from the UI</a></li>
<li class="toctree-l4"><a class="reference internal" href="#additional-specifications">Additional specifications</a></li>
<li class="toctree-l4"><a class="reference internal" href="#modifying-the-reference-dataset">Modifying the reference dataset</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="scheduled_ct_configuration.html">Scheduling Continuous Tests</a></li>
<li class="toctree-l3"><a class="reference internal" href="ct-events-rca.html">Continuous Testing feedback and observability</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../basic_tasks.html#model-cards">Model cards</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../basic_tasks.html#embeddings">Embeddings</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../basic_tasks.html#notifications-and-alerts">Notifications and alerts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../basic_tasks.html#notebook-walkthroughs">Notebook walkthroughs</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../adv_tasks.html">Advanced tasks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../reference.html">Reference</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Administering RIME</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../for_admins/userauthnz.html">Users, authorization, and authentication</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../for_admins/naviconf.html">Navigating and configuring RIME</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../for_admins/fixtrouble.html">Troubleshooting a RIME deployment</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Installing RIME</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../installation/index.html">Installation Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../installation/cloudinst.html">Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../installation/mcloudinst.html">Managed Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../installation/shostedinst.html">Self-Hosted</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">SDK reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../python_library/get_started.html">Get Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../python_library/python-sdk.html">Python SDK reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../python_library/how_to_guides.html">Python SDK tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../python_library/reference.html">API Test Reference</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">RIME</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../basic_tasks.html">Basic tasks</a></li>
      <li class="breadcrumb-item active">Scheduling Continuous Testing runs</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/for_data_scientists/how_to_guides/common_use_cases/scheduling_ct_runs.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="scheduling-continuous-testing-runs">
<h1>Scheduling Continuous Testing runs<a class="headerlink" href="#scheduling-continuous-testing-runs" title="Permalink to this heading"></a></h1>
<p>You can create and update the schedule for a Continuous Test from the SDK or the UI. For
more configuration information, see the <span class="xref myst">Scheduled CT Configuration Page</span></p>
<section id="activating-a-schedule">
<h2>Activating a schedule<a class="headerlink" href="#activating-a-schedule" title="Permalink to this heading"></a></h2>
<section id="creating-a-schedule-with-a-new-continuous-test-from-sdk">
<h3>Creating a schedule with a new Continuous Test from SDK<a class="headerlink" href="#creating-a-schedule-with-a-new-continuous-test-from-sdk" title="Permalink to this heading"></a></h3>
<p>To begin, initialize the <code class="docutils literal notranslate"><span class="pre">Client</span></code> and point it to the location of your RIME backend.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">rime_sdk</span> <span class="kn">import</span> <span class="n">Client</span>

<span class="n">rime_client</span> <span class="o">=</span> <span class="n">Client</span><span class="p">(</span><span class="s2">&quot;rime.&lt;YOUR_ORG_NAME&gt;.rime.dev&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;YOUR_API_TOKEN&gt;&quot;</span><span class="p">)</span>
</pre></div>
</div>
<p>You can set a schedule at the same time you <a class="reference internal" href="ct-ui.html"><span class="doc std std-doc">create a Continuous Test</span></a>. To create a
schedule, specify a data source as well as any credentials required for access to the
data source.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">project</span> <span class="o">=</span> <span class="n">rime_client</span><span class="o">.</span><span class="n">create_project</span><span class="p">(</span><span class="s2">&quot;&lt;NAME&gt;&quot;</span><span class="p">,</span> <span class="s2">&quot;&lt;DESCRIPTION&gt;&quot;</span><span class="p">)</span>

<span class="c1"># Create a firewall with an active schedule. This will routinely read from</span>
<span class="c1"># the data collector and run tests once every bin_size time period (eg. once a day, week, etc...).</span>
<span class="c1"># No arguments are needed by the RIME Engine to access the data collector, since the service is internal</span>
<span class="n">project</span><span class="o">.</span><span class="n">create_firewall</span><span class="p">(</span><span class="n">model_id</span><span class="p">:</span><span class="s2">&quot;model&quot;</span><span class="p">,</span> <span class="n">ref_data_id</span><span class="p">:</span><span class="s2">&quot;foo&quot;</span><span class="p">,</span> <span class="n">bin_size</span><span class="p">:</span><span class="n">timedelta</span><span class="p">(</span><span class="n">hours</span><span class="o">=</span><span class="mi">3</span><span class="p">))</span>
</pre></div>
</div>
<p>Optionally, provide parameters to process this data, such as timestamp column names.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">data_params_dict</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;nrows&quot;</span><span class="p">:</span> <span class="mi">100</span>
<span class="p">}</span>

<span class="c1"># Create a firewall with an active schedule.</span>
<span class="c1"># The data loaded has a timestamp column defined above.</span>
<span class="n">firewall</span> <span class="o">=</span> <span class="n">project</span><span class="o">.</span><span class="n">create_firewall</span><span class="p">(</span><span class="n">name</span><span class="p">:</span> <span class="s2">&quot;&lt;NAME&gt;&quot;</span><span class="p">,</span> <span class="n">bin_size</span><span class="o">=</span><span class="s2">&quot;&lt;BIN_SIZE&gt;&quot;</span><span class="p">,</span> <span class="n">test_run_id</span><span class="o">=</span><span class="n">test_run_id</span><span class="p">,</span> <span class="n">run_ct_schedule</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">location_type</span><span class="o">=</span><span class="s2">&quot;data_collector&quot;</span><span class="p">,</span> <span class="n">data_params</span><span class="o">=</span><span class="n">data_params_dict</span><span class="p">)</span>
</pre></div>
</div>
<p>Since each data location requires specific parameters for the RIME Engine to access and
process the data, see the <span class="xref myst">Scheduled CT Configuration Page</span>
for details about configurations for different use cases.</p>
</section>
<section id="creating-a-schedule-on-an-existing-continuous-test-from-the-sdk">
<h3>Creating a schedule on an existing Continuous Test from the SDK<a class="headerlink" href="#creating-a-schedule-on-an-existing-continuous-test-from-the-sdk" title="Permalink to this heading"></a></h3>
<p>You can enable a schedule for an existing Continuous Test at any time.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get a Continuous Test from a project</span>
<span class="n">firewall</span> <span class="o">=</span> <span class="n">client</span><span class="o">.</span><span class="n">get_firewall_for_project</span><span class="p">(</span><span class="s2">&quot;&lt;YOUR_PROJECT_ID&gt;&quot;</span><span class="p">)</span>

<span class="c1"># Activate a schedule</span>
<span class="n">firewall</span><span class="o">.</span><span class="n">activate_ct_schedule</span><span class="p">(</span><span class="n">location_type</span><span class="o">=</span><span class="s2">&quot;data_collector&quot;</span><span class="p">,</span> <span class="n">reference_set_window</span><span class="o">=</span><span class="n">reference_set_bin</span><span class="p">,</span> <span class="n">data_params</span><span class="o">=</span><span class="n">data_params_dict</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="deactivating-a-schedule-from-the-sdk">
<h2>Deactivating a schedule from the SDK<a class="headerlink" href="#deactivating-a-schedule-from-the-sdk" title="Permalink to this heading"></a></h2>
<p>To deactivate a schedule for a Contnuous Test, run the following command.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">firewall</span><span class="o">.</span><span class="n">deactivate_ct_schedule</span><span class="p">()</span>
</pre></div>
</div>
</section>
<section id="activating-and-deactivating-a-schedule-from-the-ui">
<h2>Activating and deactivating a schedule from the UI<a class="headerlink" href="#activating-and-deactivating-a-schedule-from-the-ui" title="Permalink to this heading"></a></h2>
<p>Choose an <a class="reference internal" href="../../../for_admins/data-integrations.html"><span class="doc std std-doc">integration</span></a> to use as a data
source. The current supported options are Databricks Delta Lake, the Data Collector,
or a <a class="reference internal" href="../../../for_admins/customdloader.html"><span class="doc std std-doc">custom loader</span></a>.</p>
<p>Specify a table and timestamp column.</p>
<img src="../../../_static/fw_deltalake.png">
<p>For the custom loader, specify the path of the custom loading file, the name of the
function that loads the data, any relevant keyword arguments in JSON format, and the
timestamp column.</p>
<img src="../../../_static/fw_custom_loader.png">
</section>
<section id="additional-specifications">
<h2>Additional specifications<a class="headerlink" href="#additional-specifications" title="Permalink to this heading"></a></h2>
</section>
<section id="modifying-the-reference-dataset">
<h2>Modifying the reference dataset<a class="headerlink" href="#modifying-the-reference-dataset" title="Permalink to this heading"></a></h2>
<p>In addition to specifying access and process parameters, you can also modify the
reference data that tests are routinely run against.</p>
<p>A Continuous Test run can use a <a class="reference internal" href="../registries.html"><span class="doc std std-doc">registered</span></a> dataset, a rolling time
window, or a specific time period.</p>
<p>From the UI, choose a reference dataset in the “Reference Set” dropdown and fill in the relevant fields.
For the non-default options, the reference dataset always comes from the same data source that is specified for CT scheduling.</p>
<p>You can also specify the reference dataset from the SDK.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span><span class="p">,</span> <span class="n">timedelta</span>

<span class="c1"># Specify a duration for the rolling window.</span>
<span class="c1"># The reference set will change each period based on the window size</span>
<span class="n">rolling_window_period</span> <span class="o">=</span> <span class="n">timedelta</span><span class="p">(</span><span class="n">days</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">firewall</span><span class="o">.</span><span class="n">activate_ct_schedule</span><span class="p">(</span><span class="n">location_type</span><span class="o">=</span><span class="s2">&quot;data_collector&quot;</span><span class="p">,</span> <span class="n">rolling_window_duration</span><span class="o">=</span><span class="n">rolling_window_period</span><span class="p">)</span>

<span class="c1"># Specify a new time period as the reference set</span>
<span class="n">reference_start_time</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2022</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">reference_end_time</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2021</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">reference_set_bin</span> <span class="o">=</span> <span class="p">(</span><span class="n">reference_start_time</span><span class="p">,</span> <span class="n">reference_end_time</span><span class="p">)</span>
<span class="n">firewall</span><span class="o">.</span><span class="n">activate_ct_schedule</span><span class="p">(</span><span class="n">location_type</span><span class="o">=</span><span class="s2">&quot;data_collector&quot;</span><span class="p">,</span> <span class="n">reference_set_window</span><span class="o">=</span><span class="n">reference_set_bin</span><span class="p">)</span>
</pre></div>
</div>
<section id="modifying-existing-schedules">
<h3>Modifying existing schedules<a class="headerlink" href="#modifying-existing-schedules" title="Permalink to this heading"></a></h3>
<p>To change the data location associated with your runs or the reference set, use the <code class="docutils literal notranslate"><span class="pre">update_location_info</span></code>
function.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>

<span class="c1"># Specify a new time period as the reference set</span>
<span class="n">reference_start_time</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2022</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">reference_end_time</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2021</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">reference_set_bin</span> <span class="o">=</span> <span class="p">(</span><span class="n">reference_start_time</span><span class="p">,</span> <span class="n">reference_end_time</span><span class="p">)</span>
<span class="n">firewall</span><span class="o">.</span><span class="n">update_location_info</span><span class="p">(</span><span class="n">location_type</span><span class="o">=</span><span class="s2">&quot;data_collector&quot;</span><span class="p">,</span> <span class="n">reference_set_time_bin</span><span class="o">=</span><span class="n">reference_set_bin</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="querying_results.html" class="btn btn-neutral float-left" title="Querying RIME Results" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="scheduled_ct_configuration.html" class="btn btn-neutral float-right" title="Scheduling Continuous Tests" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Robust Intelligence.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>