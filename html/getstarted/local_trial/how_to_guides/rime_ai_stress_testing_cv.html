<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Validating Your Model with AI Stress Testing &mdash; RIME  documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="https://cdn.datatables.net/v/dt/dt-1.13.1/sb-1.4.0/datatables.min.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/sphinx_highlight.js"></script>
        <script src="../../../_static/clipboard.min.js"></script>
        <script src="../../../_static/copybutton.js"></script>
        <script src="../../../_static/main.js"></script>
        <script src="https://cdn.datatables.net/v/dt/dt-1.13.1/sb-1.4.0/datatables.min.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Protecting Your Model with AI Firewall" href="rime_firewall_realtime_cv.html" />
    <link rel="prev" title="Monitoring Your Model with AI Firewall Continuous Tests" href="rime_ai_firewall_continuous_tests_nlp.html" />
<link href="../../../_static/style.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav">
<div class="ge_header no-print">
    <a id="header-logo" href="../../../index.html">
        <img src="../../../_static/header-logo.png" alt="logo" />
    </a>
</div>


  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            RIME
          </a>
              <div class="version">
                2.0.0-beta.9
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">RIME at a Glance</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../product-overview.html">RIME and machine learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../workspace-overview.html">The RIME Workspace Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../modeltesting.html">RIME model testing</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../modeltesting.html#rime-local-trial">RIME local trial</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../index.html">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#running-your-first-ai-stress-test">Running Your First AI Stress Test</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../how_to_guides.html">How-To Guides</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../how_to_guides.html#tabular">Tabular</a></li>
<li class="toctree-l3"><a class="reference internal" href="../how_to_guides.html#nlp">NLP</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../how_to_guides.html#cv">CV</a><ul class="current">
<li class="toctree-l4 current"><a class="current reference internal" href="#">Validating Your Model with AI Stress Testing</a></li>
<li class="toctree-l4"><a class="reference internal" href="rime_firewall_realtime_cv.html">Protecting Your Model with AI Firewall</a></li>
<li class="toctree-l4"><a class="reference internal" href="rime_ai_firewall_continuous_tests_cv.html">Monitoring Your Model with AI Firewall</a></li>
<li class="toctree-l4"><a class="reference internal" href="../how_to_guides.html#troubleshooting">Troubleshooting</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../reference.html">Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="download_stress_test_results.html">Download AI Stress Test Results</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Data science with RIME</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../for_data_scientists/get_started.html">Get Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../for_data_scientists/basic_tasks.html">Basic tasks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../for_data_scientists/adv_tasks.html">Advanced tasks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../for_data_scientists/reference.html">Reference</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Administering RIME</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../for_admins/userauthnz.html">Users, authorization, and authentication</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../for_admins/naviconf.html">Navigating and configuring RIME</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../for_admins/fixtrouble.html">Troubleshooting a RIME deployment</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Installing RIME</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../installation/index.html">Installation Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../installation/cloudinst.html">Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../installation/mcloudinst.html">Managed Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../installation/shostedinst.html">Self-Hosted</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">SDK reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../python_library/get_started.html">Get Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../python_library/python-sdk.html">Python SDK reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../python_library/how_to_guides.html">Python SDK tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../python_library/reference.html">API Test Reference</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">RIME</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../modeltesting.html">RIME model testing</a></li>
          <li class="breadcrumb-item"><a href="../index.html">Installation</a></li>
          <li class="breadcrumb-item"><a href="../how_to_guides.html">How-To Guides</a></li>
      <li class="breadcrumb-item active">Validating Your Model with AI Stress Testing</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/getstarted/local_trial/how_to_guides/rime_ai_stress_testing_cv.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="validating-your-model-with-ai-stress-testing">
<h1>Validating Your Model with AI Stress Testing<a class="headerlink" href="#validating-your-model-with-ai-stress-testing" title="Permalink to this heading"></a></h1>
<p>This tutorial will guide you through validating CV models with AI Stress Testing.</p>
<p>All examples are available in the <code class="docutils literal notranslate"><span class="pre">rime_trial/</span></code> bundle provided during installation.</p>
<p>Confirm that the extra RIME CV dependencies have been installed from the <code class="docutils literal notranslate"><span class="pre">cv_requirements.txt</span></code> file from <a class="reference internal" href="../get_started/installation.html"><span class="doc std std-doc">installation</span></a>.
If you run into a <code class="docutils literal notranslate"><span class="pre">ModuleNotFoundError</span></code> at any point during this walkthrough, it is likely that you need to install the RIME CV Extras.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>-r<span class="w"> </span>cv_requirements.txt
</pre></div>
</div>
<section id="running-stress-testing-on-an-image-classification-example">
<h2>Running Stress Testing on an Image Classification Example<a class="headerlink" href="#running-stress-testing-on-an-image-classification-example" title="Permalink to this heading"></a></h2>
<p>This example uses an image classification model trained on a slightly modified version of the <a target="_blank" rel="noopener" href="https://cvml.ist.ac.at/AwA2/">Animals with Attributes 2 dataset</a>.</p>
<p>To start a run of AI Stress Testing:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>rime-engine<span class="w"> </span>run-images<span class="w"> </span>--config-path<span class="w"> </span>images_examples/classification/awa2/stress_test_config.json
</pre></div>
</div>
<p>After this finishes running, the results display in the web client,
where they will be uploaded to the Default Project.</p>
<p>If you explore the test config in <code class="docutils literal notranslate"><span class="pre">images_examples/classification/awa2/stress_test_config.json</span></code> you’ll see that we’ve configured a few parameters to specify the data, model, and other task-specific information:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;run_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Image Classification&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data_info&quot;</span><span class="p">:</span> <span class="p">{</span> <span class="o">...</span> <span class="p">},</span>
    <span class="s2">&quot;data_profiling_info&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;class_names&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;antelope&quot;</span><span class="p">,</span> <span class="s2">&quot;grizzly+bear&quot;</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span>  <span class="s2">&quot;cow&quot;</span><span class="p">,</span> <span class="s2">&quot;dolphin&quot;</span><span class="p">]</span>
    <span class="p">},</span>
    <span class="s2">&quot;model_info&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;images_examples/classification/awa2/awa2_cpu.py&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;model_task&quot;</span><span class="p">:</span> <span class="s2">&quot;Image Classification&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>For a full reference on the configuration file, see the <a class="reference internal" href="../../../for_data_scientists/reference/stress_testing.html"><span class="doc std std-doc">Configuration Reference</span></a>.</p>
</section>
<section id="running-stress-testing-on-an-object-detection-example">
<h2>Running Stress Testing on an Object Detection Example<a class="headerlink" href="#running-stress-testing-on-an-object-detection-example" title="Permalink to this heading"></a></h2>
<p>This example uses an object model trained on a slightly modified version of the <a target="_blank" rel="noopener" href="https://paperswithcode.com/dataset/pascal-voc">Pascal VOC</a> dataset.</p>
<p>To start a run of AI Stress Testing:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>rime-engine<span class="w"> </span>run-images<span class="w"> </span>--config-path<span class="w"> </span>images_examples/detection/voc/stress_test_config.json
</pre></div>
</div>
<p>After this finishes running, the results display in the web client,
where they will be uploaded to the Default Project.</p>
<p>If you explore the test config in <code class="docutils literal notranslate"><span class="pre">images_examples/detection/voc/stress_test_config.json</span></code> you’ll see that we’ve configured a few parameters to specify the data, model, and other task-specific information.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;run_name&quot;</span><span class="p">:</span> <span class="s2">&quot;Object Detection&quot;</span><span class="p">,</span>
    <span class="s2">&quot;data_info&quot;</span><span class="p">:</span> <span class="p">{</span> <span class="o">...</span> <span class="p">},</span>
    <span class="s2">&quot;data_profiling_info&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;class_names&quot;</span><span class="p">:</span> <span class="p">[</span><span class="s2">&quot;aeroplane&quot;</span><span class="p">,</span> <span class="s2">&quot;bicycle&quot;</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span>  <span class="s2">&quot;train&quot;</span><span class="p">,</span> <span class="s2">&quot;tvmonitor&quot;</span><span class="p">]</span>
    <span class="p">},</span>
    <span class="s2">&quot;model_info&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;path&quot;</span><span class="p">:</span> <span class="s2">&quot;images_examples/detection/voc/model.py&quot;</span>
    <span class="p">},</span>
    <span class="s2">&quot;model_task&quot;</span><span class="p">:</span> <span class="s2">&quot;Object Detection&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>For a full reference on the configuration file, see the <a class="reference internal" href="../../../for_data_scientists/reference/stress_testing.html"><span class="doc std std-doc">Configuration Reference</span></a>.</p>
</section>
<section id="running-stress-testing-on-your-own-model-and-datasets">
<h2>Running Stress Testing on Your Own Model and Datasets<a class="headerlink" href="#running-stress-testing-on-your-own-model-and-datasets" title="Permalink to this heading"></a></h2>
<section id="define-a-python-model-file">
<h3>Define a Python Model File<a class="headerlink" href="#define-a-python-model-file" title="Permalink to this heading"></a></h3>
<p>Refer to <a class="reference internal" href="../../../for_data_scientists/reference/specify_model.html"><span class="doc std std-doc">How to Create a CV Model File</span></a> for step-by-step instructions on creating a model interface for RIME.</p>
</section>
<section id="gather-datasets">
<h3>Gather Datasets<a class="headerlink" href="#gather-datasets" title="Permalink to this heading"></a></h3>
<section id="prepare-input-data">
<h4>1. Prepare Input Data<a class="headerlink" href="#prepare-input-data" title="Permalink to this heading"></a></h4>
<p>For Computer vision (CV) data, RIME uses <code class="docutils literal notranslate"><span class="pre">.json</span></code> (or <code class="docutils literal notranslate"><span class="pre">.jsonl</span></code>) files containing metadata for each image. For a detailed specification of data formatting, see <a class="reference internal" href="../../../for_data_scientists/reference/task_data_format.html"><span class="doc std std-doc">Input Data Format</span></a>.</p>
</section>
<section id="specify-prediction-logs-recommended">
<h4>2. Specify Prediction Logs (Recommended)<a class="headerlink" href="#specify-prediction-logs-recommended" title="Permalink to this heading"></a></h4>
<p>Because model inference is usually the most time-consuming part of the testing framework, we recommend specifying cached prediction logs.</p>
<p>This can be done within the datafile itself (i.e., by adding a <code class="docutils literal notranslate"><span class="pre">&quot;probabilities&quot;</span></code> key to each data sample) or by specifying them in separate files.</p>
<p>In the image classification example above, we specified model predictions in the datafile itself (see <code class="docutils literal notranslate"><span class="pre">images_examples/classification/awa2/data/{train|test}_inputs_trial.json</span></code>).</p>
<p>An example prediction (see the <code class="docutils literal notranslate"><span class="pre">&quot;probabilities&quot;</span></code> key) can be viewed from this file by running the following command from your terminal:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cat</span> <span class="n">images_examples</span><span class="o">/</span><span class="n">classification</span><span class="o">/</span><span class="n">awa2</span><span class="o">/</span><span class="n">data</span><span class="o">/</span><span class="n">train_inputs_trial</span><span class="o">.</span><span class="n">json</span> <span class="o">|</span> <span class="n">jq</span> <span class="s1">&#39;.[0]&#39;</span>
</pre></div>
</div>
<p>However, if you do not wish to create a separate prediction log, RI can call your model during a test run and infer its performance using a subsample of the provided datasets.</p>
</section>
</section>
<section id="create-configuration">
<h3>Create Configuration<a class="headerlink" href="#create-configuration" title="Permalink to this heading"></a></h3>
<p>With your data and model ready, you can now create a configuration file. Examples of these can be found in the <code class="docutils literal notranslate"><span class="pre">rime_trial/</span></code> bundle (the ones used for these examples are under <code class="docutils literal notranslate"><span class="pre">images_examples/</span></code>).</p>
<p>For a detailed reference on what the configuration should look like, see <a class="reference internal" href="../../../for_data_scientists/reference/stress_testing.html"><span class="doc std std-doc">AI Stress Testing Configuration Reference</span></a>.</p>
</section>
</section>
<section id="conclusion">
<h2>Conclusion<a class="headerlink" href="#conclusion" title="Permalink to this heading"></a></h2>
<p>Congratulations! You’ve successfully used RI to test out the various CV models.</p>
<p>Once again, we strongly recommended that you run RI using precomputed predictions. This will greatly improve both the RI runtime and the test suite result quality.</p>
<p>Model inference tends to be the most computationally expensive part of each RI run. While access to the model is still required for some tests due to design constraints (e.g., the use of randomness, iterative attacks, etc.), providing predictions in advance can help RI avoid redundant computation so each run is fast and focused.</p>
</section>
<section id="troubleshooting">
<h2>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permalink to this heading"></a></h2>
<p>If you run into issues, please refer to our <a class="reference internal" href="troubleshooting/python_package.html"><span class="doc std std-doc">Troubleshooting</span></a> page for help! Additionally, your RI representative is able to assist.</p>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="rime_ai_firewall_continuous_tests_nlp.html" class="btn btn-neutral float-left" title="Monitoring Your Model with AI Firewall Continuous Tests" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="rime_firewall_realtime_cv.html" class="btn btn-neutral float-right" title="Protecting Your Model with AI Firewall" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Robust Intelligence.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>