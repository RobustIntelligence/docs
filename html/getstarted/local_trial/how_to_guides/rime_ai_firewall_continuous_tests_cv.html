<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Monitoring Your Model with AI Firewall &mdash; RIME  documentation</title>
      <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/copybutton.css" type="text/css" />
      <link rel="stylesheet" href="https://cdn.datatables.net/v/dt/dt-1.13.1/sb-1.4.0/datatables.min.css" type="text/css" />
      <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
    <link rel="shortcut icon" href="../../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../../_static/doctools.js"></script>
        <script src="../../../_static/sphinx_highlight.js"></script>
        <script src="../../../_static/clipboard.min.js"></script>
        <script src="../../../_static/copybutton.js"></script>
        <script src="../../../_static/main.js"></script>
        <script src="https://cdn.datatables.net/v/dt/dt-1.13.1/sb-1.4.0/datatables.min.js"></script>
    <script src="../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Debugging the Installation" href="troubleshooting/installation.html" />
    <link rel="prev" title="Protecting Your Model with AI Firewall" href="rime_firewall_realtime_cv.html" />
<link href="../../../_static/style.css" rel="stylesheet" type="text/css">

</head>

<body class="wy-body-for-nav">
<div class="ge_header no-print">
    <a id="header-logo" href="../../../index.html">
        <img src="../../../_static/header-logo.png" alt="logo" />
    </a>
</div>


  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../index.html" class="icon icon-home">
            RIME
          </a>
              <div class="version">
                2.0.0-beta.8
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../changelogs.html">Release Notes</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">RIME at a Glance</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../product-overview.html">RIME and machine learning</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../workspace-overview.html">The RIME Workspace Overview</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../modeltesting.html">RIME model testing</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../modeltesting.html#rime-local-trial">RIME local trial</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../index.html">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../index.html#running-your-first-ai-stress-test">Running Your First AI Stress Test</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../how_to_guides.html">How-To Guides</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../how_to_guides.html#tabular">Tabular</a></li>
<li class="toctree-l3"><a class="reference internal" href="../how_to_guides.html#nlp">NLP</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../how_to_guides.html#cv">CV</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="rime_ai_stress_testing_cv.html">Validating Your Model with AI Stress Testing</a></li>
<li class="toctree-l4"><a class="reference internal" href="rime_firewall_realtime_cv.html">Protecting Your Model with AI Firewall</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Monitoring Your Model with AI Firewall</a></li>
<li class="toctree-l4"><a class="reference internal" href="../how_to_guides.html#troubleshooting">Troubleshooting</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../reference.html">Reference</a></li>
<li class="toctree-l2"><a class="reference internal" href="download_stress_test_results.html">Download AI Stress Test Results</a></li>
<li class="toctree-l2"><a class="reference internal" href="../get_started/installation.html">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../get_started/installation.html#running-your-first-ai-stress-test">Running Your First AI Stress Test</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../how_to_guides.html">How-To Guides</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../how_to_guides.html#tabular">Tabular</a></li>
<li class="toctree-l3"><a class="reference internal" href="../how_to_guides.html#nlp">NLP</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../how_to_guides.html#cv">CV</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="rime_ai_stress_testing_cv.html">Validating Your Model with AI Stress Testing</a></li>
<li class="toctree-l4"><a class="reference internal" href="rime_firewall_realtime_cv.html">Protecting Your Model with AI Firewall</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Monitoring Your Model with AI Firewall</a></li>
<li class="toctree-l4"><a class="reference internal" href="../how_to_guides.html#troubleshooting">Troubleshooting</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../reference.html">Reference</a></li>
</ul>
</li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Data science with RIME</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../for_data_scientists/get_started.html">Get Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../for_data_scientists/basic_tasks.html">Basic tasks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../for_data_scientists/adv_tasks.html">Advanced tasks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../for_data_scientists/reference.html">Reference</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Administering RIME</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../for_admins/userauthnz.html">Users, authorization, and authentication</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../for_admins/naviconf.html">Navigating and configuring RIME</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../for_admins/fixtrouble.html">Troubleshooting a RIME deployment</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Installing RIME</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../installation/index.html">Installation Concepts</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../installation/cloudinst.html">Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../installation/mcloudinst.html">Managed Cloud</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../installation/shostedinst.html">Self-Hosted</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">SDK reference</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../python_library/get_started.html">Get Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../python_library/python-sdk.html">Python SDK reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../python_library/how_to_guides.html">Python SDK tutorials</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../python_library/reference.html">API Test Reference</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">RIME</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../modeltesting.html">RIME model testing</a></li>
          <li class="breadcrumb-item"><a href="../index.html">Installation</a></li>
          <li class="breadcrumb-item"><a href="../how_to_guides.html">How-To Guides</a></li>
      <li class="breadcrumb-item active">Monitoring Your Model with AI Firewall</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../../_sources/getstarted/local_trial/how_to_guides/rime_ai_firewall_continuous_tests_cv.md.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="monitoring-your-model-with-ai-firewall">
<h1>Monitoring Your Model with AI Firewall<a class="headerlink" href="#monitoring-your-model-with-ai-firewall" title="Permalink to this heading"></a></h1>
<p>This guide will cover how to configure the AI Firewall to continuously monitor your model in production.</p>
<p>This guide uses an image classification model trained on the <a target="_blank" rel="noopener" href="https://cvml.ist.ac.at/AwA2/">Animals with Attributes 2 dataset</a>.</p>
<section id="cv-setup">
<h2>CV Setup<a class="headerlink" href="#cv-setup" title="Permalink to this heading"></a></h2>
<p>Confirm that the extra RIME CV dependencies have been installed from the <code class="docutils literal notranslate"><span class="pre">cv_requirements.txt</span></code> file from <a class="reference internal" href="../get_started/installation.html"><span class="doc std std-doc">installation</span></a>.
If you run into a <code class="docutils literal notranslate"><span class="pre">ModuleNotFoundError</span></code> at any point during this walkthrough, it is likely that you need to install the RIME CV Extras.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>-r<span class="w"> </span>cv_requirements.txt
</pre></div>
</div>
</section>
<hr class="docutils" />
<section id="running-ai-firewall-continuous-tests">
<h2>Running AI Firewall Continuous Tests<a class="headerlink" href="#running-ai-firewall-continuous-tests" title="Permalink to this heading"></a></h2>
<section id="run-ai-stress-testing">
<h3>1. Run AI Stress Testing<a class="headerlink" href="#run-ai-stress-testing" title="Permalink to this heading"></a></h3>
<p>Kick off a Stress Testing run (the reference dataset and model from this run will be used for firewall continuous tests).</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>rime-engine<span class="w"> </span>run-images<span class="w"> </span>--config-path<span class="w"> </span>images_examples/classification/awa2/stress_test_config.json
</pre></div>
</div>
</section>
<section id="configure-a-firewall-in-the-web-client">
<h3>2. Configure a Firewall in the Web Client<a class="headerlink" href="#configure-a-firewall-in-the-web-client" title="Permalink to this heading"></a></h3>
<p>In the RI web client, click on the “Default Project” and navigate to the “AI Firewall” tab on the left <img src="../../../_static/ui/AIFirewallShield.svg" />. You should see the following page.</p>
<img src="../../../_static/ui/Firewall_Page.png" />
<p>Click on “Configure AI Firewall” and fill out the details. The “Name” field can be a name of your choice. The “AI Stress Test” field should be “Image Classification” (this refers to the AI Stress Testing run that we just ran). Finally, the “Bin Size” field should be “1 Day”. Once you’ve filled everything out, <strong>copy the “Firewall ID”</strong> (you will need this later to upload data and predictions to monitor) and click “Done”.</p>
<img src="../../../_static/nlp_ui/Firewall_Deploy.png" />
</section>
<section id="run-continuous-tests-on-incremental-data">
<h3>3. Run Continuous Tests on Incremental Data<a class="headerlink" href="#run-continuous-tests-on-incremental-data" title="Permalink to this heading"></a></h3>
<p>We can now upload data and predictions and run AI Firewall Continuous Tests. The following command uses data from March 1, 2022 to March 13, 2022.</p>
<p>NOTE: If you forgot to record the firewall ID in the previous step, you can find it by clicking the <img src="../../../_static/ui/GearIcon.svg" /> on the right.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>rime-engine<span class="w"> </span>run-firewall-images<span class="w"> </span>--config-path<span class="w"> </span>images_examples/classification/awa2/firewall_config.json<span class="w"> </span>--firewall-id<span class="w"> </span><span class="nv">$FIREWALL_ID</span>
</pre></div>
</div>
<p>After this finishes running, the results display in the web client,
where they will be uploaded to the Default Project.</p>
</section>
</section>
<hr class="docutils" />
<section id="using-your-own-model-and-datasets">
<h2>Using Your Own Model and Datasets<a class="headerlink" href="#using-your-own-model-and-datasets" title="Permalink to this heading"></a></h2>
<p>This guide will cover how to run AI Firewall Continuous Tests on your own model and datasets.</p>
<section id="collect-data-in-the-correct-format">
<h3>Collect Data in the Correct Format<a class="headerlink" href="#collect-data-in-the-correct-format" title="Permalink to this heading"></a></h3>
<p>Data formatting requirements are very similar to those for AI Stress Tests (see <span class="xref myst">Input Data Format</span>); however, <strong>for continuous tests, timestamp information is also needed.</strong></p>
<p>For AI Firewall Continuous Tests, RI requires two datasets: a reference dataset and an (incremental) evaluation dataset. The latter must supply timestamps with each data point, using the key <code class="docutils literal notranslate"><span class="pre">&quot;timestamp&quot;</span></code>. This allows the data to be sliced into batches appropriately, each of which will be compared to the reference dataset during continuous testing.</p>
<p>Datasets must be passed in as <code class="docutils literal notranslate"><span class="pre">.json</span></code> or <code class="docutils literal notranslate"><span class="pre">.jsonl</span></code> files, optionally compressed via <code class="docutils literal notranslate"><span class="pre">gzip</span></code> (creating <code class="docutils literal notranslate"><span class="pre">json.gz</span></code> or <code class="docutils literal notranslate"><span class="pre">jsonl.gz</span></code>).</p>
</section>
<section id="create-configuration">
<h3>Create Configuration<a class="headerlink" href="#create-configuration" title="Permalink to this heading"></a></h3>
<p>With your data ready, you can now create a configuration file.</p>
<p>For a detailed reference on what the configuration should look like, see <span class="xref myst">Continuous Tests Configuration</span>.</p>
</section>
<section id="run-the-cli">
<h3>Run the CLI<a class="headerlink" href="#run-the-cli" title="Permalink to this heading"></a></h3>
<section id="ai-firewall-continuous-tests">
<h4>AI Firewall Continuous Tests<a class="headerlink" href="#ai-firewall-continuous-tests" title="Permalink to this heading"></a></h4>
<p>You will need to have configured a firewall in the web client beforehand to get a Firewall ID. Please refer to the sections above for instructions.</p>
<p>Once complete, you can run the CLI like so:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>rime-engine<span class="w"> </span>run-firewall-images<span class="w"> </span>--firewall-id<span class="w"> </span><span class="nv">$FIREWALL_ID</span><span class="w"> </span>--config-path<span class="w"> </span>&lt;PATH-TO-CONFIGURATION&gt;
</pre></div>
</div>
<p>After this finishes running, the results display in the web client,
where they will be uploaded to the Default Project.</p>
</section>
</section>
<section id="troubleshooting">
<h3>Troubleshooting<a class="headerlink" href="#troubleshooting" title="Permalink to this heading"></a></h3>
<p>If you run into issues, please refer to our <a class="reference internal" href="troubleshooting/python_package.html"><span class="doc std std-doc">Troubleshooting</span></a> page for help! Additionally, your RI representative is able to assist.</p>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="rime_firewall_realtime_cv.html" class="btn btn-neutral float-left" title="Protecting Your Model with AI Firewall" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="troubleshooting/installation.html" class="btn btn-neutral float-right" title="Debugging the Installation" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2022, Robust Intelligence.</p>
  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>